<table class="mainchapter {{ include.bg_class }} {{ include.bg_overlay }}" 
{% if include.bg_file %} 
style="--bg: url('{{ include.bg_file | relative_url }}');" 
{% endif %}>
  
  {% for row in include.rows %}
  {% assign char_id = row.char | downcase %}
  {% assign c = site.data.characters[char_id] %}
  
  {% assign status_class = row.status | default: "" %}
  <tr class="side-{{ row.side }}">
    {% if row.char %}
    {% if row.side == "left" %}
      <td class="name-container" style="text-align: center; vertical-align: top;">
        <img src="{{ c.img | relative_url }}" class="port-img {{ status_class }}">      
      </td>
      
      <td class="words blob {{ status_class }}">
        <div class="name-box"><span>{{ c.name }}</span></div>
    {% for line in row.text %}<p>{{ line }}</p>{% endfor %}
      </td>
      <td class="port"></td>
      
    {% else %}
      <td class="port"></td>
      <td class="words blob {{ status_class }}">
        <div class="name-box"><span>{{ c.name }}</span></div>
    {% for line in row.text %}<p>{{ line }}</p>{% endfor %}
      </td>
      <td class="name-container" style="text-align: center; vertical-align: top;">
      <img src="{{ c.img | relative_url }}" class="port-img {{ status_class }}">
      </td>
    {% endif %}
    {% else %}
      <td class="port"></td> <td class="words narrate"> {% for line in row.text %}<p><i>{{ line }}</i></p>{% endfor %}
      </td>
      <td class="port"></td>
    {% endif %}
  </tr>
{% endfor %}
</table>

